 /* 	todo 	better namespaces *///flash detection, produces hasFlash and flashVersion - move to trackerfunction getFlashVersion(a){var e=a.match(/[\d]+/g);return e.length=3,e.join(".")}var hasFlash=!1,flashVersion="";if(navigator.plugins&&navigator.plugins.length){var plugin=navigator.plugins["Shockwave Flash"];plugin&&(hasFlash=!0,plugin.description&&(flashVersion=getFlashVersion(plugin.description))),navigator.plugins["Shockwave Flash 2.0"]&&(hasFlash=!0,flashVersion="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var mimeType=navigator.mimeTypes["application/x-shockwave-flash"];hasFlash=mimeType&&mimeType.enabledPlugin,hasFlash&&(flashVersion=getFlashVersion(mimeType.enabledPlugin.description))}else try{var ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");hasFlash=!0,flashVersion=getFlashVersion(ax.GetVariable("$version"))}catch(e){try{var ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");hasFlash=!0,flashVersion="6.0.21"}catch(e){try{var ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");hasFlash=!0,flashVersion=getFlashVersion(ax.GetVariable("$version"))}catch(e){}}}var ad_flash = hasFlash;var ad_flashVersion = flashVersion;var url_click = "https://metrics.fivebyfiveglobal.com/clicktrackdc.php";var url_imp =	"https://metrics.fivebyfiveglobal.com/imptrackdc.php";var rate = 100;	//roughly 1 in "rate" impressions will firevar doImpressions = (new Date().getMilliseconds()%rate==0);var impInterval;var numImpressions = 0;var maxImpressions = 6;var impressionTime = 5000;var time_start = new Date().getTime();var local = window.location.protocol === "file:" || window.location.hostname == "localhost";var hidden;if (typeof document.hidden !== "undefined") 			hidden = "hidden";else if (typeof document.mozHidden !== "undefined")		hidden = "mozHidden";else if (typeof document.msHidden !== "undefined")		hidden = "msHidden";else if (typeof document.webkitHidden !== "undefined")	hidden = "webkitHidden";  var viewable = true;var ad_zip = "";var ad_id = 0;var ad_domain = "";updateProps();//ad typefunction updateProps(){	if(typeof EB !== "undefined") 	{		//http://ds.serving-sys.com/burstingres/CustomScripts/PL_Scroll_Detect.js		if(typeof document[hidden] === "undefined")		{			viewable = !document[hidden];		}else{			viewable = true;		}		if(typeof EB._adConfig !== "undefined")		{			if(typeof EB._adConfig.adId !== "undefined")	ad_id = EB._adConfig.adId;			if(typeof EB._adConfig.geoData !== "undefined")	ad_zip = EB._adConfig.geoData.zip || "";		}	}else if(typeof Enabler !== "undefined"){		viewable = Enabler.isVisible();		if(typeof Enabler.tb !== "undefined" && typeof Enabler.tb !== "function")		{			ad_id = Enabler.tb;		}		ad_zip = Enabler.getUserZipCode() || "";		ad_domain = Enabler.getDartSiteName();	}else if(typeof myFT !== "undefined"){		viewable = myFT.isViewable();		ad_id = myFT.get('creativeID');	}else{		viewable = true;		ad_id = 0;	}}var tr_data = {};	tr_data.cl		= typeof CLIENT !== "undefined" ? CLIENT : "";	tr_data.w		= typeof WID !== "undefined" ? WID : 0;	tr_data.h		= typeof HEI !== "undefined" ? HEI : 0;	tr_data.ct		= typeof LANG !== "undefined" ? LANG : "uk";	tr_data.cid		= typeof CAMPAIGN !== "undefined" ? CAMPAIGN : "";	tr_data.type	= typeof TYPE !== "undefined" ? TYPE : "";	tr_data.extras	= typeof EXTRAS !== "undefined" ? EXTRAS : "";	tr_data.aid		= ad_id;	tr_data.d		= ad_domain;	tr_data.z		= ad_zip;	tr_data.sn		= document.referrer || window.location.href;	tr_data.v		= viewable;	tr_data.t		= 0;	tr_data.rt		= 0;	tr_data.lt		= 0;	tr_data.u		= navigator.userAgent;	tr_data.f		= ad_flash;	tr_data.fv		= ad_flashVersion;	//	tr_data.i		= 0;	//	tr_data.x 		= 0;	tr_data.y 		= 0;	tr_data.n 		= "";	tr_data.curl	= "";if(doImpressions){	impInterval = setInterval(trackImpression, impressionTime);	trackImpression();}function getQuery() {	var str = [];	for(var p in tr_data)	if (tr_data.hasOwnProperty(p))	str.push(encodeURIComponent(p) + "=" + encodeURIComponent(tr_data[p]));	return str.join("&");}function trackImpression(){	if(local) return;	updateProps();	var time_now = new Date().getTime();	if(++numImpressions >= maxImpressions)	clearInterval(impInterval);	tr_data.i 		= numImpressions;	tr_data.lt		= time_now;	tr_data.t		= time_now - time_start;	tr_data.v		= viewable;	var xmlhttp = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");	xmlhttp.open("POST", url_imp, true);	xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");	xmlhttp.send(getQuery());}function trackClick(x, y, name, exitURL){	if(local) return;	updateProps();	var time_now = new Date().getTime();	tr_data.x 		= x;	tr_data.y 		= y;	tr_data.n 		= name;	tr_data.curl	= exitURL;	tr_data.lt		= time_now;	tr_data.t		= time_now - time_start;	tr_data.v		= viewable;	var xmlhttp = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");	xmlhttp.open("POST", url_click, true);	xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");	xmlhttp.send(getQuery());}